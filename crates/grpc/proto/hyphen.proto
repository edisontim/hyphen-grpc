syntax = "proto3";

package hyphen;

import "modify_agent.proto";
import "types.proto";
import "create_agent.proto";
import "list_agents.proto";

service Hyphen {
	rpc CreateAgent(create_agent.CreateAgentRequest) returns (create_agent.CreateAgentResponse);
	rpc AddTokenAddress(AddTokenAddressRequest) returns (AddTokenAddressResponse);
	rpc AddPayment(AddPaymentRequest) returns (AddPaymentResponse);
	rpc ModifyAgent(modify_agent.ModifyAgentRequest) returns (modify_agent.ModifyAgentResponse);
    rpc GetChannels(GetChannelsRequest) returns (GetChannelsResponse);
	rpc ListAgents(list_agents.ListAgentsRequest) returns (list_agents.ListAgentsResponse);
	rpc GetAgentByName(GetAgentByNameRequest) returns (list_agents.ListedAgent);
}

message AddTokenAddressRequest {
    string token_address = 1;
	int32 agent_id = 2;
}

message AddTokenAddressResponse {
    bool success = 1;
}

message AddPaymentRequest {
	int32 agent_id = 1;
    create_agent.TransferSpotHpyh transfer_spot_hyph = 2;
}

message AddPaymentResponse {
    bool success = 1;
}

message GetChannelsRequest { int32 agent_id = 1; }

message GetChannelsResponse {
	repeated string channels = 1;
}

message GetAgentByNameRequest {
	string name = 1;
}